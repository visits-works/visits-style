{"version":3,"file":"progress.story-660b4485.js","sources":["../../src/elements/Progress/index.tsx"],"sourcesContent":["import React, { HTMLAttributes, useMemo } from 'react';\nimport { styled } from 'styled-components';\nimport setSize from '../../utils/setSize';\nimport { ColorType, SizeType } from '../../types';\n\nexport interface ProgressProps extends HTMLAttributes<HTMLDivElement>{\n  /** 現状の進捗 */\n  value: number;\n  /** 進捗の最大値 */\n  max: number;\n  /** バーのサイズ */\n  size?: SizeType;\n  /** sizeを使わないときの縦幅を指定する */\n  height?: string;\n  /**\n   * バーの色\n   * @default 'primary'\n   */\n  color?: ColorType;\n}\n\nexport default function Progress(\n  { value, max, color = 'primary', ...rest }: ProgressProps,\n) {\n  const percent = useMemo(() => (value ? Math.round((value / max) * 100) : 0), [value, max]);\n  return (\n    <Wrapper color={color} {...rest}>\n      <div\n        role=\"progressbar\"\n        aria-label=\"progress\"\n        className={value !== max ? 'in-progress' : undefined}\n        style={{ width: `${percent > 100 ? 100 : percent}%` }}\n      />\n    </Wrapper>\n  );\n}\n\nconst Wrapper = styled.div<Pick<ProgressProps, 'size'|'height'>>`\n  position: relative;\n  display: block;\n  width: 100%;\n  border-radius: ${({ theme }) => theme.radius};\n  background-color: ${({ theme }) => theme.background};\n\n  ${({ size, height }) => height || setSize('height', size)}\n\n  & > div[role=\"progressbar\"] {\n    position: relative;\n    height: 100%;\n    border-radius: ${({ theme }) => theme.radius};\n    background-color: ${({ color, theme }) => (theme[color!] || color)};\n\n    &.in-progress {\n      border-bottom-right-radius: 0;\n      border-top-right-radius: 0;\n    }\n\n    will-change: width;\n\n    transition-property: width;\n    transition-duration: 350ms;\n    transition-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1);\n    z-index: 1;\n  }\n`;\n"],"names":["Progress","value","max","rest","percent","useMemo","jsx","Wrapper","color","styled","theme","size","height","setSize"],"mappings":"uOAqBA,SAAAA,EAAA,CACE,MAAAC,EAAEA,IAAAA,EAAOC,MAAAA,EAAAA,UAAa,GAAAC,CAAkC,EAAA,CAExD,MAAAC,EAAAC,EAAA,QAAA,IAAAJ,EAAA,KAAA,MAAAA,EAAAC,EAAA,GAAA,EAAA,EAAA,CAAAD,EAAAC,CAAA,CAAA,EACA,OAAAI,EAAA,IAAAC,EAAA,CAAA,MAAAC,EAAA,GAAAL,EAAA,SAAAG,MAAA,MAAA,CAAA,KAAA,cAAA,aAAA,WAAA,UAAAL,IAAAC,EAAA,cAAA,OAAA,MAAA,CAMa,MAAA,GAAAE,EAAA,IAAA,IAAAA,CAAA,GAA0C,CAAA,CAAA,CAAA,CAAA,CAIzD,CAEA,MAAAG,EAAAE,EAAA,IAAA,WAAA,CAA0B,YAAA,oBAAA,YAAA,aAAA,CAAA,EAAA,CAAA,4DAAA,qBAAA,IAAA,4EAAA,qBAAA,uNAAA,EAAA,CAAA,CAIN,MAAAC,CAAQ,IAAAA,EAAA,OAAA,CAAA,CACL,MAAAA,CAAQ,IAAAA,EAAA,WAAA,CAAA,CAE1B,KAAAC,EAAEA,OAAAA,CAAa,IAAAC,GAAAC,EAAA,SAAAF,CAAA,EAAA,CAAA,CAKE,MAAAD,CAAQ,IAAAA,EAAA,OAAA,CAAA,CACL,MAAAF,EAAEA,MAAAA,CAAa,IAAAE,EAAAF,CAAA,GAAAA,CAAA;;;;;"}