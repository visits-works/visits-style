{"version":3,"file":"appbar.story-397ff25b.js","sources":["../../src/utils/hambuger.ts","../../src/utils/setAlign.ts","../../src/utils/media.ts","../../src/components/AppBar/index.tsx"],"sourcesContent":["import { css } from 'styled-components';\n\nexport default function hamburger(size: string) {\n  return css`\n    display: block;\n    position: relative;\n    height: ${size};\n    width: ${size};\n\n    cursor: pointer;\n    span {\n      background-color: currentColor;\n      display: block;\n      height: 1px;\n      left: calc(50% - 8px);\n      position: absolute;\n      transform-origin: center;\n      transition-duration: 100ms;\n      transition-property: background-color, opacity, transform;\n      transition-timing-function: ease-out;\n      width: 16px;\n\n      &:nth-child(1) {\n        top: calc(50% - 6px);\n      }\n      &:nth-child(2) {\n        top: calc(50% - 1px);\n      }\n      &:nth-child(3) {\n        top: calc(50% + 4px);\n      }\n\n      &:hover {\n        background-color: rgba(black, 0.05);\n      }\n    }\n\n    &.active span {\n      &:nth-child(1) {\n        transform: translateY(5px) rotate(45deg);\n      }\n      &:nth-child(2) {\n        opacity: 0;\n      }\n      &:nth-child(3) {\n        transform: translateY(-5px) rotate(-45deg);\n      }\n    }\n  `;\n}\n","export default function setAlign({ align }: { align?: 'left' | 'right' | 'center' }) {\n  switch (align) {\n    case 'left':\n      return 'flex-start';\n    case 'right':\n      return 'flex-end';\n    case 'center':\n      return 'center';\n    default:\n      return 'space-evenly';\n  }\n}\n","import type { Interpolation, ExecutionContext } from 'styled-components/dist/types';\n\nexport function mediaMobile({ theme }: ExecutionContext): Interpolation<object> {\n  if (!theme.responsive) return '@media (max-width: 0)';\n  return `@media screen and (max-width: ${theme.media.mobile})`;\n}\n\nexport function mediaTablet({ theme }: ExecutionContext): Interpolation<object> {\n  if (!theme.responsive) return '@media (max-width: 0)';\n  return `@media screen and (max-width: ${theme.media.tablet})`;\n}\n\nexport function mediaDesktop({ theme }: ExecutionContext): Interpolation<object> {\n  if (!theme.responsive) return '@media (max-width: 0)';\n  return `@media screen and (max-width: ${theme.media.desktop})`;\n}\n\nexport function mediaFullHD({ theme }: ExecutionContext): Interpolation<object> {\n  if (!theme.responsive) return '@media (max-width: 0)';\n  return `@media screen and (max-width: ${theme.media.fullhd})`;\n}\n\nexport function mediaUntilFullHD({ theme }: ExecutionContext): Interpolation<object> {\n  if (!theme.responsive) return '@media (max-width: 0)';\n  return `@media screen and (min-width: ${theme.media.fullhd})`;\n}\n","import React, { HTMLAttributes, useState } from 'react';\nimport { transparentize } from 'polished';\nimport { styled, css } from 'styled-components';\nimport type { Interpolation, ExecutionContext } from 'styled-components/dist/types';\n\nimport findColorInvert from '../../utils/findColorInvert';\nimport hambuger from '../../utils/hambuger';\nimport setAlign from '../../utils/setAlign';\nimport { mediaTablet, mediaMobile } from '../../utils/media';\nimport { ColorType, ThemeType } from '../../types';\n\nexport interface Props extends HTMLAttributes<HTMLDivElement> {\n  /** background色 */\n  color?: ColorType;\n  /** ロゴのイメージ、プロジェクト名など */\n  brand?: React.ReactElement<any> | string;\n  /** 定義された位置を固定にする */\n  fixed?: boolean;\n  /** (IE11不可)画面がスクロールされても上で貼り付けいるようにする */\n  sticky?: boolean;\n  /** 中央並びから自動幅で表示します */\n  fluid?: boolean;\n  /** 背景がblurされます（safari専用、他は透明度） */\n  backdrop?: boolean;\n  /** childrenに定義するElementの並び順を指定します。未定義は自動並び */\n  align?: 'left' | 'right';\n}\n\nexport default function AppBar({ children, align, brand, ...rest }: Props) {\n  const [show, setShow] = useState(false);\n  const toggleMenu = () => setShow(!show);\n\n  return (\n    <NavBar\n      role=\"navigation\"\n      {...rest}\n    >\n      <nav>\n        {brand}\n        {children && (\n          <Burger className={show ? 'active' : undefined} onClick={toggleMenu}>\n            <span />\n            <span />\n            <span />\n          </Burger>\n        )}\n        <NavContent className={show ? 'active' : undefined} align={align}>\n          {children}\n        </NavContent>\n      </nav>\n    </NavBar>\n  );\n}\n\ninterface AppBarSetColorConfig extends ExecutionContext {\n  color?: ColorType;\n  backdrop?: boolean;\n}\n\nfunction setColor({ color, theme, backdrop }: AppBarSetColorConfig): Interpolation<object> {\n  const backgroundColor = color ? theme[color] : 'transparent';\n  const textColor = findColorInvert(\n    theme as ThemeType,\n    backgroundColor === 'transparent' ? theme.background : backgroundColor,\n  );\n\n  if (backdrop) {\n    const backColor = transparentize(\n      0.2,\n      (backgroundColor === 'transparent' ? theme.white : backgroundColor),\n    );\n\n    return css`\n      background-color: ${backColor};\n      color: ${textColor};\n    `;\n  }\n\n  return css`background-color: ${backgroundColor}; color: ${textColor};`;\n}\n\nconst NavBar = styled.header<Props>`\n  position: ${({ fixed, sticky }) => {\n    if (sticky) return 'sticky';\n    if (fixed) return 'fixed';\n    return 'relative';\n  }};\n  display: flex;\n  top: -1px;\n  min-height: 3.25rem;\n  width: 100%;\n  z-index: 30;\n\n  padding: ${({ fluid }) => (fluid ? '0 0.75rem' : '0 5%')};\n\n  & > nav {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    flex: 1 0 auto;\n  }\n\n  ${setColor}\n\n  a { color: inherit; }\n\n  ${mediaTablet} {\n    padding: ${({ fluid }) => (fluid ? '0 0.5rem' : '0 3%')};\n  }\n`;\n\nconst Burger = styled.button`\n  ${hambuger('3.25rem')}\n  display: none;\n  margin-left: auto;\n  border: none;\n  background-color: transparent;\n  color: inherit;\n\n  outline: none;\n\n  &:hover{\n    background-color: rgba(0, 0, 0, .05);\n  }\n\n  ${mediaMobile} {\n    display: block;\n  }\n`;\n\nconst NavContent = styled.div<Pick<Props, 'color'|'align'> & { show?: boolean }>`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  flex-basis: auto;\n  flex-grow: 1;\n  height: 100%;\n\n  & > ul {\n    display: flex;\n    flex-direction: row;\n    list-style: none;\n    flex-grow: 1;\n    flex-basis: 100%;\n    height: inherit;\n    align-items: center;\n    justify-content: ${setAlign};\n\n    li {\n      padding: 0.85rem;\n    }\n  }\n\n  & > div, & > span, & > form {\n    display: flex;\n    ${({ color }) => (color ? `color: ${color};` : '')}\n  }\n\n  ${mediaMobile} {\n    width: 100%;\n    flex-direction: column;\n    align-items: flex-start;\n    height: auto;\n\n    padding-bottom: 0.5rem;\n\n    &:not(.active) {\n      display:none;\n    }\n\n    & > ul {\n      flex-direction: column;\n      align-items: flex-start;\n      width: 100%;\n      flex-basis: auto;\n      li {\n        padding: .5rem 0;\n      }\n    }\n\n    & > div, & > span, & > form {\n      padding: .5rem 0;\n      width: 100%;\n    }\n  }\n`;\n"],"names":["hamburger","size","css","setAlign","align","mediaMobile","theme","responsive","media","mobile","mediaTablet","tablet","AppBar","children","brand","show","setShow","useState","toggleMenu","jsx","NavBar","rest","jsxs","NavContent","setColor","color","backgroundColor","textColor","findColorInvert","backdrop","backColor","transparentize","styled","fixed","sticky","fluid","Burger","hambuger"],"mappings":"qSAEA,SAAwBA,EAAUC,EAAc,CAC9C,OAAOC,EAAG,CAAA,0CAAA,UAAA,gkBAAA,EAGED,EACDA,CAAI,CA0CjB,CCjDA,SAAwBE,EAAS,CAAEC,MAAAA,CAA+C,EAAG,CACnF,OAAQA,EAAK,CACX,IAAK,OACI,MAAA,aACT,IAAK,QACI,MAAA,WACT,IAAK,SACI,MAAA,SACT,QACS,MAAA,cACX,CACF,CCTO,SAASC,EAAY,CAAEC,MAAAA,CAAwB,EAA0B,CAC9E,OAAKA,EAAMC,WACH,iCAAgCD,EAAME,MAAMC,MAAO,IAD7B,uBAEhC,CAEO,SAASC,EAAY,CAAEJ,MAAAA,CAAwB,EAA0B,CAC9E,OAAKA,EAAMC,WACH,iCAAgCD,EAAME,MAAMG,MAAO,IAD7B,uBAEhC,CCkBA,SAAAC,EAAA,CAA+B,SAAAC,EAAEA,MAAAA,EAAUT,MAAAA,EAAOU,GAAAA,CAAsB,EAAA,CACtE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACAC,EAAA,IAAAF,EAAA,CAAAD,CAAA,EAEA,OAAAI,MAAAC,EAAA,CAAA,KAAA,aAAA,GAAAC,EAAA,SAAAC,EAAAA,KAAA,MAAA,CAAA,SAAA,CAMOR,EAAAA,GAAAA,EAAAA,KAAAA,EAAAA,CAAAA,UAAAA,EAAAA,SAAAA,OAAAA,QAAAA,EAAAA,SAAAA,CAGGK,EAAA,IAAA,OAAA,EAAA,EAAKA,EAAA,IAAA,OAAA,EAAA,EACAA,EAAA,IAAA,OAAA,EAAA,CACA,EAAA,EACPA,MAAAI,EAAA,CAAA,UAAAR,EAAA,SAAA,OAAA,MAAAX,EAAA,SAAAS,EAAA,CAIF,CAAA,CAAA,CAAA,CAAA,CAIR,CAOA,SAAAW,EAAA,CAAkB,MAAAC,EAAEA,MAAAA,EAAOnB,SAAAA,CAAsC,EAAA,CAC/D,MAAAoB,EAAAD,EAAAnB,EAAAmB,CAAA,EAAA,cACAE,EAAAC,EAAAtB,EAAAoB,IAAA,cAAApB,EAAA,WAAAoB,CAAA,EAKA,GAAAG,EAAA,CACE,MAAAC,EAAAC,EAAA,GAAAL,IAAA,cAAApB,EAAA,MAAAoB,CAAA,EAKA,OAAAxB,EAAA,CAAA,oBAAA,UAAA,GAAA,EAAA4B,EAAAH,CAAA,CAEoB,CAItB,OAAAzB,EAAA,CAAA,oBAAA,UAAA,GAAA,EAAAwB,EAAAC,CAAA,CACF,CAEA,MAAAP,EAAAY,EAAA,OAAA,WAAA,CAA4B,YAAA,iBAAA,YAAA,aAAA,CAAA,EAAA,CAAA,YAAA,2EAAA,6FAAA,qBAAA,YAAA,IAAA,EAAA,CAAA,CACb,MAAAC,EAAEA,OAAAA,CAAc,IAC3BC,EAAY,SACZD,EAAW,QACX,WACF,CAAA,CAOY,MAAAE,CAAQ,IAAAA,EAAA,YAAA,OAAAX,EAAAd,EAAA,CAAA,CAeN,MAAAyB,CAAQ,IAAAA,EAAA,WAAA,MAAA,EAIxBC,EAAAJ,EAAA,OAAA,WAAA,CAA4B,YAAA,iBAAA,YAAA,aAAA,CAAA,EAAA,CAAA,GAAA,gJAAA,kBAAA,EAAAK,EAAA,SAAA,EAAAhC,CAAA,EAmB5BkB,EAAAS,EAAA,IAAA,WAAA,CAA6B,YAAA,qBAAA,YAAA,aAAA,CAAA,EAAA,CAAA,iQAAA,gEAAA,IAAA,qRAAA,EAAA7B,EAAA,CAAA,CA0BtB,MAAAsB,CAAQ,IAAAA,EAAA,UAAAA,CAAA,IAAA,GAAApB,CAAA;;;;;"}